FROM maven:3.6.3-jdk-8-slim

COPY ./ ./

# Ignore repositories errors
RUN apt-get update -y || true

# Install VNC support, shell and network tools
RUN apt-get install tightvncserver xfonts-base dos2unix iproute2 net-tools iputils-ping -y

RUN dos2unix /model/src/test/resources/vnc/execute-on-vnc.sh

# Define user for VNC
ENV USER vnc-user-jsql

# Disable Oracle tests
ENV FROM_TRAVIS true

CMD ["/bin/bash"]